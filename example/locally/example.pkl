import "@ansipkl/playbook.pkl"
import "@ansipkl/builtin.pkl"
import "@ansipkl/community.general.pkl"

playbook1 = new Listing<playbook.play> {
    new {
        name = "play1"
        hosts = "self"
        remote_user = "wyatt"
        vars {
            ["variable00"] = "value00"
        }
        tasks {
            new builtin.apt {
                name = "docker"
                options {
                    state = "present"
                    name {
                        "docker"
                    }
                }
            }.into()
        }
    }
    new {
        name = "play2"
        hosts = "self"
        remote_user = "wyatt"
        environment {
            ["aaa"] = "bbb"
        }
        tasks {
            new `community.general`.pacman {
                name = "emacs"
                module_defaults {
                    uri {
                        prop = "example"
                    }
                }
                options {
                    name {
                        "emacs"
                    }
                }
            }.into()
            new builtin.apt {
                name = "firefox"
                vars {
                    ["variable01"] = "value01"
                }
                options {
                    name {
                        "firefox"
                    }
                }
            }.into()
        }
    }
}

// playbook2 = new Listing<playbook.play> {
//     new {
//         name = "play3"
//         tasks {
//             new `community.general`.pacman {
//                 name = "neovide"
//                 options {
//                     name {
//                         "neovide"
//                     }
//                 }
//             }.into()
//         }
//     }
// }
